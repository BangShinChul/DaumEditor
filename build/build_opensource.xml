<?xml version="1.0"?>
<project name="trex_build_1.5_opensource">
    <property file="build.properties"/>

    <property file="build.properties"/>
    <property description="JSDoc" name="JSDOC" value="jsdoc-toolkit/jsrun.jar"/>

    <property name="open.project.home" value="../../DaumEditor-GoogleCode"/>
    <property name="open.local.tmp.dir" value="sendingcopy"/>

    <property name="open.uie.server.dir" value="/data/server/htdocs/openeditor/sample/5.2.0/"/>

    <property name="open.api.server.dir" value="/data/server/htdocs/openeditor/api/1.5/"/>
    <property name="open.local.api.dir" value="_api"/>

    <target name="jsdoc_make_4_opensource">
        <java jar="${JSDOC}" fork="true" failonerror="true">
            <jvmarg value="-Dfile.encoding=UTF-8"/>
            <arg value="jsdoc-toolkit/app/run.js"/>
            <arg value="-c=jsdoc-toolkit/config_open.js"/>
        </java>
    </target>

    <target name="jsdoc_copy_to_uie.daum.net">
        <echo>${uie.server.dir} jsdoc</echo>
        <ftp action="mkdir"
             server="${uie.server.host}"
             userid="${uie.server.ftpId}" password="${uie.server.ftpPass}"
             remotedir="${open.api.server.dir}">
        </ftp>
        <ftp server="${uie.server.host}"
             remotedir="${open.api.server.dir}"
             userid="${uie.server.ftpId}" password="${uie.server.ftpPass}"
             umask="022"
             depends="true" binary="true" verbose="true" passive="yes">
            <fileset dir="${open.project.home}/${open.local.api.dir}">
                <include name="**/*"/>
            </fileset>
        </ftp>
    </target>

    <target name="docs_copy_to_uie.daum.net">
        <delete dir="${open.project.home}/${open.local.tmp.dir}"/>
        <mkdir dir="${open.project.home}/${open.local.tmp.dir}"/>
        <copy encoding="UTF-8"
              todir="${open.project.home}/${open.local.tmp.dir}"
              overwrite="true">
            <fileset dir="${open.project.home}/_docs"/>
        </copy>
        <ftp server="${uie.server.host}"
             remotedir="${open.uie.server.dir}"
             userid="${uie.server.ftpId}" password="${uie.server.ftpPass}"
             umask="022"
             depends="true" binary="true" verbose="true" passive="yes">
            <fileset dir="${open.project.home}/${open.local.tmp.dir}">
                <include name="**/*.html"/>
            </fileset>
        </ftp>
    </target>

    <target name="demo_copy_to_uie.daum.net">
        <delete dir="${open.project.home}/${open.local.tmp.dir}"/>
        <mkdir dir="${open.project.home}/${open.local.tmp.dir}"/>
        <mkdir dir="${open.project.home}/${open.local.tmp.dir}/snapshot"/>
        <copy encoding="UTF-8"
              todir="${open.project.home}/${open.local.tmp.dir}/snapshot"
              overwrite="true">
            <fileset dir="${open.project.home}/snapshot"/>
        </copy>
        <get src="http://myeditor.daum.net/editor/daumeditor.html?mode=UIEDEMO"
             dest="${open.project.home}/${open.local.tmp.dir}/editor.html"/>
        <echo>${open.uie.server.dir}</echo>
        <ftp action="mkdir"
             server="${uie.server.host}"
             userid="${uie.server.ftpId}" password="${uie.server.ftpPass}"
             remotedir="${open.uie.server.dir}">
        </ftp>
        <ftp server="${uie.server.host}"
             remotedir="${open.uie.server.dir}"
             userid="${uie.server.ftpId}" password="${uie.server.ftpPass}"
             umask="022"
             depends="true" binary="true" verbose="true" passive="yes">
            <fileset dir="${open.project.home}/${open.local.tmp.dir}">
                <include name="**/*"/>
            </fileset>
        </ftp>
    </target>
</project>
